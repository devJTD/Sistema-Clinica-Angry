2025-07-17 00:06:58.380 INFO  - Starting SistemaApplication using Java 21.0.7 with PID 23948 (C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry\target\classes started by Jeanp in C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry)
2025-07-17 00:06:58.389 INFO  - No active profile set, falling back to 1 default profile: "default"
2025-07-17 00:07:08.348 INFO  - Started SistemaApplication in 10.759 seconds (process running for 12.289)
2025-07-17 00:07:08.372 INFO  - Iniciando carga de datos de especialidades, medicos, pacientes y horarios...
2025-07-17 00:07:08.374 INFO  - Procesando 15 especialidades...
2025-07-17 00:07:08.655 INFO  - El usuario ha accedido a la página de login.
2025-07-17 00:07:08.706 INFO  - Especialidades procesadas.
2025-07-17 00:07:08.707 INFO  - Procesando 45 medicos...
2025-07-17 00:07:08.925 INFO  - Medicos procesados. Nuevos medicos creados: 0
2025-07-17 00:07:08.926 INFO  - Iniciando carga de datos de pacientes...
2025-07-17 00:07:08.955 INFO  - Paciente con DNI '71632364' o correo 'chipa.robladillo@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:07:08.964 INFO  - Paciente con DNI '71631245' o correo 'ariana.davila@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:07:08.975 INFO  - Paciente con DNI '71645689' o correo 'jeremy.rojas@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:07:08.975 INFO  - Pacientes procesados. Nuevos pacientes creados: 0
2025-07-17 00:07:08.975 INFO  - Procesando horarios del 2025-07-15 al 2026-12-31 para cada medico...
2025-07-17 00:07:09.524 INFO  - Se encontraron 72225 horarios existentes (mayor o igual a 100). Asumiendo que los horarios ya estan cargados y omitiendo la creacion detallada.
2025-07-17 00:07:09.524 INFO  - Carga de datos iniciales completada.
2025-07-17 00:07:20.602 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 00:07:20.698 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 00:07:20.888 INFO  - El usuario ha accedido a la página de login.
2025-07-17 00:07:30.494 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail
2025-07-17 00:07:30.500 WARN  - Fallo en autenticacion: Usuario no encontrado con correo electronico: chipa.robladillo@gmail
2025-07-17 00:07:30.618 INFO  - El usuario ha accedido a la página de login.
2025-07-17 00:07:50.875 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 00:07:50.883 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 00:07:51.024 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:07:51.025 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:07:51.027 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:09:39.269 INFO  - Starting SistemaApplication using Java 21.0.7 with PID 7776 (C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry\target\classes started by Jeanp in C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry)
2025-07-17 00:09:39.272 INFO  - No active profile set, falling back to 1 default profile: "default"
2025-07-17 00:09:49.277 INFO  - Started SistemaApplication in 10.888 seconds (process running for 12.439)
2025-07-17 00:09:49.295 INFO  - Iniciando carga de datos de especialidades, medicos, pacientes y horarios...
2025-07-17 00:09:49.296 INFO  - Procesando 15 especialidades...
2025-07-17 00:09:49.592 INFO  - Especialidades procesadas.
2025-07-17 00:09:49.593 INFO  - Procesando 45 medicos...
2025-07-17 00:09:49.765 INFO  - Medicos procesados. Nuevos medicos creados: 0
2025-07-17 00:09:49.765 INFO  - Iniciando carga de datos de pacientes...
2025-07-17 00:09:49.792 INFO  - Paciente con DNI '71632364' o correo 'chipa.robladillo@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:09:49.801 INFO  - Paciente con DNI '71631245' o correo 'ariana.davila@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:09:49.810 INFO  - Paciente con DNI '71645689' o correo 'jeremy.rojas@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:09:49.810 INFO  - Pacientes procesados. Nuevos pacientes creados: 0
2025-07-17 00:09:49.810 INFO  - Procesando horarios del 2025-07-15 al 2026-12-31 para cada medico...
2025-07-17 00:09:50.272 INFO  - Se encontraron 72225 horarios existentes (mayor o igual a 100). Asumiendo que los horarios ya estan cargados y omitiendo la creacion detallada.
2025-07-17 00:09:50.273 INFO  - Carga de datos iniciales completada.
2025-07-17 00:09:54.933 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:09:57.678 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:10:13.428 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail
2025-07-17 00:10:13.512 WARN  - Fallo en autenticacion: Usuario no encontrado con correo electronico: chipa.robladillo@gmail
2025-07-17 00:10:13.647 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:10:36.322 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail
2025-07-17 00:10:36.332 WARN  - Fallo en autenticacion: Usuario no encontrado con correo electronico: chipa.robladillo@gmail
2025-07-17 00:10:36.450 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:10:46.209 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 00:10:46.220 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 00:10:46.363 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:10:46.365 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:10:46.366 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:12:20.738 INFO  - Starting SistemaApplication using Java 21.0.7 with PID 9428 (C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry\target\classes started by Jeanp in C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry)
2025-07-17 00:12:20.742 INFO  - No active profile set, falling back to 1 default profile: "default"
2025-07-17 00:12:31.301 INFO  - Started SistemaApplication in 11.509 seconds (process running for 13.301)
2025-07-17 00:12:31.324 INFO  - Iniciando carga de datos de especialidades, medicos, pacientes y horarios...
2025-07-17 00:12:31.325 INFO  - Procesando 15 especialidades...
2025-07-17 00:12:31.606 INFO  - Especialidades procesadas.
2025-07-17 00:12:31.607 INFO  - Procesando 45 medicos...
2025-07-17 00:12:31.800 INFO  - Medicos procesados. Nuevos medicos creados: 0
2025-07-17 00:12:31.800 INFO  - Iniciando carga de datos de pacientes...
2025-07-17 00:12:31.827 INFO  - Paciente con DNI '71632364' o correo 'chipa.robladillo@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:12:31.838 INFO  - Paciente con DNI '71631245' o correo 'ariana.davila@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:12:31.847 INFO  - Paciente con DNI '71645689' o correo 'jeremy.rojas@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:12:31.848 INFO  - Pacientes procesados. Nuevos pacientes creados: 0
2025-07-17 00:12:31.849 INFO  - Procesando horarios del 2025-07-15 al 2026-12-31 para cada medico...
2025-07-17 00:12:32.354 INFO  - Se encontraron 72225 horarios existentes (mayor o igual a 100). Asumiendo que los horarios ya estan cargados y omitiendo la creacion detallada.
2025-07-17 00:12:32.355 INFO  - Carga de datos iniciales completada.
2025-07-17 00:12:42.716 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:13:03.605 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:13:13.655 INFO  - El usuario ha accedido a la pagina de registro.
2025-07-17 00:13:27.461 INFO  - El usuario ha accedido a la pagina de registro.
2025-07-17 00:13:29.639 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:13:35.068 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 00:13:35.160 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 00:13:35.293 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:13:35.293 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:13:35.296 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:13:52.061 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:13:52.061 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:13:52.061 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:13:53.848 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:13:53.850 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 00:13:53.933 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 00:13:53.949 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 00:14:03.857 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:03.858 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 00:14:03.913 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 00:14:03.923 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 00:14:04.841 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 00:14:04.846 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:04.847 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 00:14:04.847 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 00:14:04.939 INFO  - Se encontraron 2 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:14:04.940 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 00:14:04.949 INFO  - Se encontraron 0 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:14:04.950 INFO  - Citas pendientes: 2 y historial de citas: 0 cargados para el usuario con DNI: 71632364.
2025-07-17 00:14:15.991 INFO  - El usuario ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 00:14:15.999 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:16.001 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 00:14:16.004 INFO  - Solicitando direcciones para el paciente con ID: 1
2025-07-17 00:14:16.014 INFO  - Se encontraron 1 direcciones para el paciente con ID: 1.
2025-07-17 00:14:16.014 INFO  - Se cargaron 1 direcciones para el usuario con DNI: 71632364.
2025-07-17 00:14:39.196 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:39.197 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) intentando solicitar ambulancia. Datos recibidos: [ID Direccion Seleccionada: 1]
2025-07-17 00:14:39.197 INFO  - Buscando direccion con ID: 1 para el paciente con ID: 1.
2025-07-17 00:14:39.202 INFO  - Direccion ID 1 encontrada para el paciente ID 1.
2025-07-17 00:14:39.202 INFO  - Solicitud de ambulancia procesada exitosamente para el usuario con DNI: 71632364 con direccion: Av. San Juan 123, Urb. Los Olivos (ID: 1).
2025-07-17 00:14:41.382 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:41.384 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:14:41.385 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:14:53.216 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 00:14:53.227 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:53.227 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 00:14:53.227 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 00:14:53.258 INFO  - Se encontraron 2 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:14:53.258 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 00:14:53.269 INFO  - Se encontraron 0 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:14:53.269 INFO  - Citas pendientes: 2 y historial de citas: 0 cargados para el usuario con DNI: 71632364.
2025-07-17 00:14:55.041 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:55.044 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:14:55.045 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:14:55.719 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:55.720 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 00:14:55.810 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 00:14:55.823 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 00:14:56.457 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:56.462 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:14:56.465 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:14:57.187 INFO  - El usuario ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 00:14:57.198 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:57.199 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 00:14:57.200 INFO  - Solicitando direcciones para el paciente con ID: 1
2025-07-17 00:14:57.206 INFO  - Se encontraron 1 direcciones para el paciente con ID: 1.
2025-07-17 00:14:57.206 INFO  - Se cargaron 1 direcciones para el usuario con DNI: 71632364.
2025-07-17 00:14:58.498 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:14:58.500 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:14:58.501 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:18:14.517 INFO  - Starting SistemaApplication using Java 21.0.7 with PID 6356 (C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry\target\classes started by Jeanp in C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry)
2025-07-17 00:18:14.522 INFO  - No active profile set, falling back to 1 default profile: "default"
2025-07-17 00:18:23.939 INFO  - Started SistemaApplication in 10.281 seconds (process running for 11.785)
2025-07-17 00:18:23.959 INFO  - Iniciando carga de datos de especialidades, medicos, pacientes y horarios...
2025-07-17 00:18:23.960 INFO  - Procesando 15 especialidades...
2025-07-17 00:18:24.227 INFO  - Especialidades procesadas.
2025-07-17 00:18:24.227 INFO  - Procesando 45 medicos...
2025-07-17 00:18:24.411 INFO  - Medicos procesados. Nuevos medicos creados: 0
2025-07-17 00:18:24.411 INFO  - Iniciando carga de datos de pacientes...
2025-07-17 00:18:24.439 INFO  - Paciente con DNI '71632364' o correo 'chipa.robladillo@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:18:24.450 INFO  - Paciente con DNI '71631245' o correo 'ariana.davila@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:18:24.458 INFO  - Paciente con DNI '71645689' o correo 'jeremy.rojas@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 00:18:24.458 INFO  - Pacientes procesados. Nuevos pacientes creados: 0
2025-07-17 00:18:24.458 INFO  - Procesando horarios del 2025-07-15 al 2026-12-31 para cada medico...
2025-07-17 00:18:24.941 INFO  - Se encontraron 72225 horarios existentes (mayor o igual a 100). Asumiendo que los horarios ya estan cargados y omitiendo la creacion detallada.
2025-07-17 00:18:24.942 INFO  - Carga de datos iniciales completada.
2025-07-17 00:23:48.072 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 00:23:59.282 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 00:23:59.376 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 00:23:59.512 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:23:59.515 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 00:23:59.515 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 00:24:09.664 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 00:24:09.673 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:24:09.675 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 00:24:09.676 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 00:24:09.764 INFO  - Se encontraron 2 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:09.765 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 00:24:09.777 INFO  - Se encontraron 0 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:09.778 INFO  - Citas pendientes: 2 y historial de citas: 0 cargados para el usuario con DNI: 71632364.
2025-07-17 00:24:13.201 INFO  - Solicitud para cancelar cita con ID: 1
2025-07-17 00:24:13.206 INFO  - Se solicito la cancelacion de la cita con ID: 1.
2025-07-17 00:24:13.211 INFO  - Cita encontrada (ID: 1) para el paciente 'Jeanpierre Chipa' y medico 'Carlos Sanchez'. Estado actual: 'Pendiente'.
2025-07-17 00:24:13.221 INFO  - Cita ID 1 del paciente 'Jeanpierre Chipa' y medico 'Carlos Sanchez' ha sido CANCELADA.
2025-07-17 00:24:13.258 INFO  - Horario ID 32132 (Fecha: 2025-07-25, Hora: 11:00) para medico 'Carlos Sanchez' marcado como DISPONIBLE tras la cancelacion de la cita.
2025-07-17 00:24:13.317 INFO  - Cita con ID: 1 cancelada correctamente.
2025-07-17 00:24:14.745 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 00:24:14.752 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:24:14.752 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 00:24:14.753 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 00:24:14.779 INFO  - Se encontraron 1 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:14.779 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 00:24:14.813 INFO  - Se encontraron 1 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:14.815 INFO  - Citas pendientes: 1 y historial de citas: 1 cargados para el usuario con DNI: 71632364.
2025-07-17 00:24:16.538 INFO  - Solicitud para cancelar cita con ID: 2
2025-07-17 00:24:16.541 INFO  - Se solicito la cancelacion de la cita con ID: 2.
2025-07-17 00:24:16.547 INFO  - Cita encontrada (ID: 2) para el paciente 'Jeanpierre Chipa' y medico 'Andrea Mendoza'. Estado actual: 'Pendiente'.
2025-07-17 00:24:16.549 INFO  - Cita ID 2 del paciente 'Jeanpierre Chipa' y medico 'Andrea Mendoza' ha sido CANCELADA.
2025-07-17 00:24:16.569 INFO  - Horario ID 46552 (Fecha: 2025-07-17, Hora: 09:00) para medico 'Andrea Mendoza' marcado como DISPONIBLE tras la cancelacion de la cita.
2025-07-17 00:24:16.592 INFO  - Cita con ID: 2 cancelada correctamente.
2025-07-17 00:24:17.302 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 00:24:17.308 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:24:17.309 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 00:24:17.310 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 00:24:17.321 INFO  - Se encontraron 0 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:17.321 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 00:24:17.345 INFO  - Se encontraron 2 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:17.345 INFO  - Citas pendientes: 0 y historial de citas: 2 cargados para el usuario con DNI: 71632364.
2025-07-17 00:24:21.513 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:24:21.514 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha solicitado exportar su historial de citas a Excel.
2025-07-17 00:24:21.515 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 00:24:21.528 INFO  - Se encontraron 0 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:21.529 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 00:24:21.564 INFO  - Se encontraron 2 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:24:23.532 INFO  - Reporte Excel generado exitosamente para el usuario con DNI: 71632364. Tamano: 3650 bytes.
2025-07-17 00:24:47.159 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:24:47.160 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 00:24:47.298 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 00:24:47.322 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 00:24:49.622 INFO  - Se solicitan medicos para la especialidad con ID: 4.
2025-07-17 00:24:49.648 INFO  - Se encontraron 3 medicos para la especialidad 'Ginecologia'.
2025-07-17 00:25:00.544 INFO  - Se solicitan horarios disponibles para el medico con ID: 10 en la fecha: 2025-07-17.
2025-07-17 00:25:00.577 INFO  - Se encontraron 3 horarios disponibles para el medico 'Patricia Herrera' en la fecha 2025-07-17.
2025-07-17 00:25:04.401 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:25:04.402 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) intentando confirmar cita con los siguientes datos del formulario: [Fecha: 2025-07-17, Hora: 09:00:00, ID Medico: 10]
2025-07-17 00:25:04.407 INFO  - El paciente con ID 1 esta intentando crear una cita para el medico con ID 10 en la fecha 2025-07-17 a las 09:00:00.
2025-07-17 00:25:04.432 INFO  - Horario ID 43342 marcado como NO DISPONIBLE para medico Patricia Herrera en fecha 2025-07-17 a las 09:00.
2025-07-17 00:25:04.488 INFO  - Cita ID 3 creada y guardada exitosamente para paciente Jeanpierre Chipa con medico Patricia Herrera en estado 'Pendiente'.
2025-07-17 00:25:04.497 INFO  - Intentando enviar correo simple a: chipa.robladillo@gmail.com con asunto: 'Confirmacion de Cita Medica - Clinica Angry' desde: chipa.robladillo@gmail.com.
2025-07-17 00:25:26.347 ERROR - Error al enviar correo a: chipa.robladillo@gmail.com con asunto: 'Confirmacion de Cita Medica - Clinica Angry'. Detalle: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection timed out: connect
org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection timed out: connect
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:410)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:317)
	at org.springframework.mail.MailSender.send(MailSender.java:42)
	at com.clinica.sistema.Servicio.NotificacionServicio.enviarCorreoSimple(NotificacionServicio.java:51)
	at com.clinica.sistema.Servicio.CitaServicio.crearCita(CitaServicio.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.clinica.sistema.Servicio.CitaServicio$$SpringCGLIB$$0.crearCita(<generated>)
	at com.clinica.sistema.Controlador.ReservaControlador.confirmarCita(ReservaControlador.java:115)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:729)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:399)
	... 113 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at org.eclipse.angus.mail.util.SocketFetcher.createSocket(SocketFetcher.java:368)
	at org.eclipse.angus.mail.util.SocketFetcher.getSocket(SocketFetcher.java:243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2193)
	... 117 common frames omitted
2025-07-17 00:25:26.358 ERROR - Error al enviar notificacion de confirmacion para la cita ID 3 del paciente Jeanpierre Chipa: Fallo al enviar el correo debido a un problema con el servicio de correo.. La cita ya fue guardada.
java.lang.RuntimeException: Fallo al enviar el correo debido a un problema con el servicio de correo.
	at com.clinica.sistema.Servicio.NotificacionServicio.enviarCorreoSimple(NotificacionServicio.java:57)
	at com.clinica.sistema.Servicio.CitaServicio.crearCita(CitaServicio.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.clinica.sistema.Servicio.CitaServicio$$SpringCGLIB$$0.crearCita(<generated>)
	at com.clinica.sistema.Controlador.ReservaControlador.confirmarCita(ReservaControlador.java:115)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection timed out: connect
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:410)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:317)
	at org.springframework.mail.MailSender.send(MailSender.java:42)
	at com.clinica.sistema.Servicio.NotificacionServicio.enviarCorreoSimple(NotificacionServicio.java:51)
	... 110 common frames omitted
Caused by: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:729)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:399)
	... 113 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at org.eclipse.angus.mail.util.SocketFetcher.createSocket(SocketFetcher.java:368)
	at org.eclipse.angus.mail.util.SocketFetcher.getSocket(SocketFetcher.java:243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2193)
	... 117 common frames omitted
2025-07-17 00:25:26.381 INFO  - Cita confirmada exitosamente para el usuario con DNI: 71632364 con Medico ID: 10 en Fecha: 2025-07-17 Hora: 09:00:00.
2025-07-17 00:25:26.420 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 00:25:26.431 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 00:25:26.433 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 00:25:26.434 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 00:25:26.478 INFO  - Se encontraron 1 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:25:26.479 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 00:25:26.504 INFO  - Se encontraron 2 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 00:25:26.504 INFO  - Citas pendientes: 1 y historial de citas: 2 cargados para el usuario con DNI: 71632364.
2025-07-17 00:25:37.533 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 11:28:51.088 INFO  - Starting SistemaApplication using Java 21.0.7 with PID 9300 (C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry\target\classes started by Jeanp in C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry)
2025-07-17 11:28:51.092 INFO  - No active profile set, falling back to 1 default profile: "default"
2025-07-17 11:29:00.517 INFO  - Started SistemaApplication in 10.371 seconds (process running for 11.998)
2025-07-17 11:29:00.541 INFO  - Iniciando carga de datos de especialidades, medicos, pacientes y horarios...
2025-07-17 11:29:00.543 INFO  - Procesando 15 especialidades...
2025-07-17 11:29:00.840 INFO  - Especialidades procesadas.
2025-07-17 11:29:00.841 INFO  - Procesando 45 medicos...
2025-07-17 11:29:01.026 INFO  - Medicos procesados. Nuevos medicos creados: 0
2025-07-17 11:29:01.027 INFO  - Iniciando carga de datos de pacientes...
2025-07-17 11:29:01.070 INFO  - Paciente con DNI '71632364' o correo 'chipa.robladillo@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 11:29:01.081 INFO  - Paciente con DNI '71631245' o correo 'ariana.davila@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 11:29:01.095 INFO  - Paciente con DNI '71645689' o correo 'jeremy.rojas@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 11:29:01.095 INFO  - Pacientes procesados. Nuevos pacientes creados: 0
2025-07-17 11:29:01.096 INFO  - Procesando horarios del 2025-07-15 al 2026-12-31 para cada medico...
2025-07-17 11:29:01.603 INFO  - Se encontraron 72225 horarios existentes (mayor o igual a 100). Asumiendo que los horarios ya estan cargados y omitiendo la creacion detallada.
2025-07-17 11:29:01.604 INFO  - Carga de datos iniciales completada.
2025-07-17 11:29:57.805 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 11:29:58.794 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 11:30:04.028 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 11:30:04.126 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 11:30:04.296 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:30:04.298 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 11:30:04.300 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 11:30:08.994 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:30:09.003 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:30:09.004 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:30:09.006 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 11:30:09.097 INFO  - Se encontraron 1 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:30:09.098 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 11:30:09.134 INFO  - Se encontraron 2 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:30:09.135 INFO  - Citas pendientes: 1 y historial de citas: 2 cargados para el usuario con DNI: 71632364.
2025-07-17 11:32:35.546 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:32:35.558 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:32:35.559 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:32:35.560 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 11:32:35.592 INFO  - Se encontraron 1 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:32:35.593 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 11:32:35.621 INFO  - Se encontraron 2 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:32:35.622 INFO  - Citas pendientes: 1 y historial de citas: 2 cargados para el usuario con DNI: 71632364.
2025-07-17 11:33:30.989 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:33:30.992 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:33:30.999 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:33:31.000 INFO  - Se solicitan citas pendientes para el paciente con ID: 1.
2025-07-17 11:33:31.020 INFO  - Se encontraron 1 citas pendientes para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:33:31.020 INFO  - Se solicita el historial de citas para el paciente con ID: 1.
2025-07-17 11:33:31.052 INFO  - Se encontraron 2 citas en el historial para el paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:33:31.052 INFO  - Citas pendientes: 1 y historial de citas: 2 cargados para el usuario con DNI: 71632364.
2025-07-17 11:52:36.466 INFO  - Starting SistemaApplication using Java 21.0.7 with PID 5676 (C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry\target\classes started by Jeanp in C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry)
2025-07-17 11:52:36.469 INFO  - No active profile set, falling back to 1 default profile: "default"
2025-07-17 11:52:45.832 INFO  - Started SistemaApplication in 10.217 seconds (process running for 11.75)
2025-07-17 11:52:45.859 INFO  - Iniciando carga de datos de especialidades, medicos, pacientes y horarios...
2025-07-17 11:52:45.860 INFO  - Procesando 15 especialidades...
2025-07-17 11:52:46.108 INFO  - Especialidades procesadas.
2025-07-17 11:52:46.109 INFO  - Procesando 45 medicos...
2025-07-17 11:52:46.287 INFO  - Medicos procesados. Nuevos medicos creados: 0
2025-07-17 11:52:46.287 INFO  - Iniciando carga de datos de pacientes...
2025-07-17 11:52:46.312 INFO  - Paciente con DNI '71632364' o correo 'chipa.robladillo@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 11:52:46.322 INFO  - Paciente con DNI '71631245' o correo 'ariana.davila@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 11:52:46.330 INFO  - Paciente con DNI '71645689' o correo 'jeremy.rojas@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 11:52:46.330 INFO  - Pacientes procesados. Nuevos pacientes creados: 0
2025-07-17 11:52:46.331 INFO  - Procesando horarios del 2025-07-15 al 2026-12-31 para cada medico...
2025-07-17 11:52:46.893 INFO  - Se encontraron 72225 horarios existentes (mayor o igual a 100). Asumiendo que los horarios ya estan cargados y omitiendo la creacion detallada.
2025-07-17 11:52:46.894 INFO  - Carga de datos iniciales completada.
2025-07-17 11:54:22.836 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 11:54:25.014 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 11:54:30.867 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 11:54:30.957 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 11:54:31.110 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:54:31.111 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 11:54:31.112 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 11:54:34.090 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:54:34.091 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 11:54:34.226 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 11:54:34.255 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 11:54:34.995 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:54:35.003 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:54:35.004 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:54:35.005 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 11:54:35.094 INFO  - Se recuperaron 3 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:54:35.095 INFO  - Cita ID 3 (Fecha: 2025-07-17, Hora: 09:00) del paciente ID 1 marcada como 'Completada' porque ha pasado su hora.
2025-07-17 11:54:35.204 INFO  - Se actualizaron 1 citas a estado 'Completada' en la base de datos para el paciente ID 1.
2025-07-17 11:54:35.208 INFO  - Citas pendientes: 0 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 11:56:32.609 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:56:32.614 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:56:32.614 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:56:32.615 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 11:56:32.642 INFO  - Se recuperaron 3 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:56:32.644 INFO  - Citas pendientes: 0 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 11:56:41.242 INFO  - El usuario ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 11:56:41.251 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:56:41.253 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 11:56:41.255 INFO  - Solicitando direcciones para el paciente con ID: 1
2025-07-17 11:56:41.290 INFO  - Se encontraron 1 direcciones para el paciente con ID: 1.
2025-07-17 11:56:41.290 INFO  - Se cargaron 1 direcciones para el usuario con DNI: 71632364.
2025-07-17 11:56:42.576 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:56:42.585 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:56:42.587 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:56:42.587 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 11:56:42.623 INFO  - Se recuperaron 3 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:56:42.624 INFO  - Citas pendientes: 0 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 11:56:43.243 INFO  - El usuario ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 11:56:43.252 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:56:43.254 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 11:56:43.255 INFO  - Solicitando direcciones para el paciente con ID: 1
2025-07-17 11:56:43.262 INFO  - Se encontraron 1 direcciones para el paciente con ID: 1.
2025-07-17 11:56:43.263 INFO  - Se cargaron 1 direcciones para el usuario con DNI: 71632364.
2025-07-17 11:57:04.001 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:57:04.012 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:57:04.014 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:57:04.015 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 11:57:04.065 INFO  - Se recuperaron 3 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:57:04.066 INFO  - Citas pendientes: 0 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 11:57:04.917 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:57:04.918 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 11:57:05.012 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 11:57:05.027 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 11:57:05.485 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:57:05.486 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 11:57:05.487 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 11:57:06.230 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:57:06.230 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 11:57:06.295 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 11:57:06.313 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 11:57:06.852 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:57:06.858 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:57:06.858 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:57:06.858 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 11:57:06.884 INFO  - Se recuperaron 3 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:57:06.884 INFO  - Citas pendientes: 0 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 11:57:07.940 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:57:07.940 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 11:57:08.039 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 11:57:08.053 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 11:57:08.333 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 11:57:08.339 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 11:57:08.339 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 11:57:08.339 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 11:57:08.377 INFO  - Se recuperaron 3 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 11:57:08.379 INFO  - Citas pendientes: 0 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 11:57:11.014 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 01:00:06.525 INFO  - Starting SistemaApplication using Java 21.0.7 with PID 11872 (C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry\target\classes started by Jeanp in C:\Users\Jeanp\Desktop\PERSONAL\Proyecto Integrador 2\Sistema-Clinica-Angry)
2025-07-17 01:00:06.528 INFO  - No active profile set, falling back to 1 default profile: "default"
2025-07-17 01:00:15.891 INFO  - Started SistemaApplication in 10.18 seconds (process running for 11.469)
2025-07-17 01:00:15.915 INFO  - Iniciando carga de datos de especialidades, medicos, pacientes y horarios...
2025-07-17 01:00:15.916 INFO  - Procesando 15 especialidades...
2025-07-17 01:00:16.192 INFO  - Especialidades procesadas.
2025-07-17 01:00:16.193 INFO  - Procesando 45 medicos...
2025-07-17 01:00:16.354 INFO  - Medicos procesados. Nuevos medicos creados: 0
2025-07-17 01:00:16.354 INFO  - Iniciando carga de datos de pacientes...
2025-07-17 01:00:16.382 INFO  - Paciente con DNI '71632364' o correo 'chipa.robladillo@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 01:00:16.390 INFO  - Paciente con DNI '71631245' o correo 'ariana.davila@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 01:00:16.398 INFO  - Paciente con DNI '71645689' o correo 'jeremy.rojas@gmail.com' ya existe. Omitiendo creacion.
2025-07-17 01:00:16.399 INFO  - Pacientes procesados. Nuevos pacientes creados: 0
2025-07-17 01:00:16.399 INFO  - Procesando horarios del 2025-07-15 al 2026-12-31 para cada medico...
2025-07-17 01:00:16.827 INFO  - Se encontraron 72225 horarios existentes (mayor o igual a 100). Asumiendo que los horarios ya estan cargados y omitiendo la creacion detallada.
2025-07-17 01:00:16.828 INFO  - Carga de datos iniciales completada.
2025-07-17 01:00:28.103 INFO  - El usuario ha accedido a la pagina de login.
2025-07-17 01:00:35.150 INFO  - Intentando cargar usuario por correo electronico: chipa.robladillo@gmail.com
2025-07-17 01:00:35.200 INFO  - Usuario 'chipa.robladillo@gmail.com' (ID: 1) cargado exitosamente para autenticacion.
2025-07-17 01:00:35.280 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:00:35.280 INFO  - Paciente encontrado para el correo: chipa.robladillo@gmail.com
2025-07-17 01:00:35.281 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de inicio.
2025-07-17 01:00:37.520 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 01:00:37.524 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:00:37.525 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 01:00:37.526 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 01:00:37.582 INFO  - Se recuperaron 3 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 01:00:37.585 INFO  - Citas pendientes: 0 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 01:00:52.261 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:00:52.261 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 01:00:52.329 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 01:00:52.339 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 01:00:53.910 INFO  - Se solicitan medicos para la especialidad con ID: 7.
2025-07-17 01:00:53.920 INFO  - Se encontraron 3 medicos para la especialidad 'Oftalmologia'.
2025-07-17 01:00:58.817 INFO  - Se solicitan horarios disponibles para el medico con ID: 20 en la fecha: 2025-07-17.
2025-07-17 01:00:58.848 INFO  - Se encontraron 3 horarios disponibles para el medico 'Tomas Caceres' en la fecha 2025-07-17.
2025-07-17 01:01:02.389 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:01:02.390 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) intentando confirmar cita con los siguientes datos del formulario: [Fecha: 2025-07-17, Hora: 09:00:00, ID Medico: 20]
2025-07-17 01:01:02.392 INFO  - El paciente con ID 1 esta intentando crear una cita para el medico con ID 20 en la fecha 2025-07-17 a las 09:00:00.
2025-07-17 01:01:02.417 INFO  - Horario ID 59392 marcado como NO DISPONIBLE para medico Tomas Caceres en fecha 2025-07-17 a las 09:00.
2025-07-17 01:01:02.472 INFO  - Cita ID 4 creada y guardada exitosamente para paciente Jeanpierre Chipa con medico Tomas Caceres en estado 'Pendiente'.
2025-07-17 01:01:02.478 INFO  - Intentando enviar correo simple a: chipa.robladillo@gmail.com con asunto: 'Confirmacion de Cita Medica - Clinica Angry' desde: chipa.robladillo@gmail.com.
2025-07-17 01:01:23.700 ERROR - Error al enviar correo a: chipa.robladillo@gmail.com con asunto: 'Confirmacion de Cita Medica - Clinica Angry'. Detalle: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection timed out: connect
org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection timed out: connect
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:410)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:317)
	at org.springframework.mail.MailSender.send(MailSender.java:42)
	at com.clinica.sistema.Servicio.NotificacionServicio.enviarCorreoSimple(NotificacionServicio.java:51)
	at com.clinica.sistema.Servicio.CitaServicio.crearCita(CitaServicio.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.clinica.sistema.Servicio.CitaServicio$$SpringCGLIB$$0.crearCita(<generated>)
	at com.clinica.sistema.Controlador.ReservaControlador.confirmarCita(ReservaControlador.java:115)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:729)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:399)
	... 113 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at org.eclipse.angus.mail.util.SocketFetcher.createSocket(SocketFetcher.java:368)
	at org.eclipse.angus.mail.util.SocketFetcher.getSocket(SocketFetcher.java:243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2193)
	... 117 common frames omitted
2025-07-17 01:01:23.710 ERROR - Error al enviar notificacion de confirmacion para la cita ID 4 del paciente Jeanpierre Chipa: Fallo al enviar el correo debido a un problema con el servicio de correo.. La cita ya fue guardada.
java.lang.RuntimeException: Fallo al enviar el correo debido a un problema con el servicio de correo.
	at com.clinica.sistema.Servicio.NotificacionServicio.enviarCorreoSimple(NotificacionServicio.java:57)
	at com.clinica.sistema.Servicio.CitaServicio.crearCita(CitaServicio.java:164)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.clinica.sistema.Servicio.CitaServicio$$SpringCGLIB$$0.crearCita(<generated>)
	at com.clinica.sistema.Controlador.ReservaControlador.confirmarCita(ReservaControlador.java:115)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.mail.MailSendException: Mail server connection failed. Failed messages: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1;
  nested exception is:
	java.net.ConnectException: Connection timed out: connect
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:410)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:317)
	at org.springframework.mail.MailSender.send(MailSender.java:42)
	at com.clinica.sistema.Servicio.NotificacionServicio.enviarCorreoSimple(NotificacionServicio.java:51)
	... 110 common frames omitted
Caused by: org.eclipse.angus.mail.util.MailConnectException: Couldn't connect to host, port: smtp.gmail.com, 587; timeout -1
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:729)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:399)
	... 113 common frames omitted
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at org.eclipse.angus.mail.util.SocketFetcher.createSocket(SocketFetcher.java:368)
	at org.eclipse.angus.mail.util.SocketFetcher.getSocket(SocketFetcher.java:243)
	at org.eclipse.angus.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2193)
	... 117 common frames omitted
2025-07-17 01:01:23.736 INFO  - Cita confirmada exitosamente para el usuario con DNI: 71632364 con Medico ID: 20 en Fecha: 2025-07-17 Hora: 09:00:00.
2025-07-17 01:01:23.748 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 01:01:23.752 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:01:23.753 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 01:01:23.753 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 01:01:23.781 INFO  - Se recuperaron 4 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 01:01:23.781 INFO  - Citas pendientes: 1 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 01:01:33.683 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:01:33.684 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 01:01:33.727 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 01:01:33.732 INFO  - Se recuperaron 15 especialidades de la base de datos.
2025-07-17 01:01:36.148 INFO  - Accediendo a la pagina de historial de citas.
2025-07-17 01:01:36.152 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:01:36.152 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de historial de citas.
2025-07-17 01:01:36.154 INFO  - Se solicitan TODAS las citas para el paciente con ID: 1.
2025-07-17 01:01:36.176 INFO  - Se recuperaron 4 citas del paciente 'Jeanpierre Chipa' (ID: 1).
2025-07-17 01:01:36.176 INFO  - Citas pendientes: 1 y historial de citas: 3 cargados y actualizados para el usuario con DNI: 71632364.
2025-07-17 01:01:36.936 INFO  - El usuario ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 01:01:36.941 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:01:36.942 INFO  - Usuario con DNI: 71632364 (chipa.robladillo@gmail.com) ha accedido a la pagina de solicitud de ambulancia.
2025-07-17 01:01:36.943 INFO  - Solicitando direcciones para el paciente con ID: 1
2025-07-17 01:01:36.948 INFO  - Se encontraron 1 direcciones para el paciente con ID: 1.
2025-07-17 01:01:36.948 INFO  - Se cargaron 1 direcciones para el usuario con DNI: 71632364.
2025-07-17 01:01:37.490 INFO  - Paciente encontrado por correo: chipa.robladillo@gmail.com (ID: 1).
2025-07-17 01:01:37.490 INFO  - Usuario con DNI: 71632364 ha accedido a la pagina de reserva de citas.
2025-07-17 01:01:37.533 INFO  - Se solicito la obtencion de todas las especialidades.
2025-07-17 01:01:37.539 INFO  - Se recuperaron 15 especialidades de la base de datos.
